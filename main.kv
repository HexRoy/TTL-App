#:kivy 1.10.1

# TODO: core data for storing data
# TODO: MAYBE - menu: Add routine; Open Routine; Settings. Open routine would be able to look though the /routines/ file


# TODO: Routines
#----------------
# TODO: add scroll view to grid layout
# TODO: implement delete routine, and possibly swipe to delete     https://github.com/kivy-garden/garden.swipetodelete
# TODO: Have existing routines in folder appear


# TODO: AddRoutine
#------------------
# TODO: add timer option
# TODO: add scroll view to grid layout
# TODO: Create database instead of CSV files
# TODO: all buttons are same size


# TODO: Settings
#----------------
# TODO: All functionality for buttons and switches


# TODO: DisplayRoutine
#----------------------
# TODO: opens the text file and displays all the data
# TODO: implement a way to use the routine and add data.
# TODO: Add the quotes if you fail
# TODO: once clicked on routine change the last used to the current date
# TODO: Figure out a way to get the variables once the file button is clicked

<ScreenManager>:

    # IDs for various buttons/grids
    workout_name: routine_name          # The name of the routine (Add Routine)
    exercise_name: name                 # The name of the exercise (Add Routine)
    num_sets: sets                      # The number of sets (Add Routine)
    num_reps: reps                      # The number of reps (Add Routine)
    amt_weight: weight                  # The amount of weight (Add Routine)
    add_routine_grid: workout_grid      # Grid layout to hold workout information (Add Routine)
    save_button: save                   # Button to save the data entered in add_routine_grid (Add Routine)
    routine_grid: routine_list          # Grid layout to hold all of the routines (Routines)
    display_name: display_workout_name  # The title for the workout (Display Routine)

    dark_light: button
    #==================================================================================================================
    # Menu Screen
    #==================================================================================================================
    #==================================================================================================================
    # Menu Screen
    #==================================================================================================================
    Screen:
        name: "Menu"                                            # The name of the screen
        GridLayout:                                             # Main grid layout (contains: logo, and buttons)
            rows: 1                                             # Number of rows for main grid layout
            Label:                                              # Label for logo
                font_size: 150                                  # Font size for logo
                center_x: root.width / 4                        # X position for logo (to center it in its column)
                top: root.top/2                                 # Centers logo in Y-height/2
                text: "T\nT\nL"                                 # The logos text
            BoxLayout:                                          # Box layout containing the buttons
                orientation: "vertical"                         # Vertical layout (Buttons stacked on each other)
                Button:                                         # Top button
                    text: "Routines"                            # Buttons text
                    on_press:
                        root.transition.direction = 'left'      # The direction of the transition
                        root.current = "Routines"               # Which screen you are brought too
                Button:                                         # Bottom button
                    text: "Settings"                            # Buttons text
                    on_press:
                        root.transition.direction = 'left'      # The direction of the transition
                        root.current = "Setting"                # Which screen you are brought to

    #==================================================================================================================
    # Routines Screen
    #==================================================================================================================
    Screen:
        name: "Routines"
        BoxLayout:
            orientation: 'vertical'

            BoxLayout:
                size_hint: 1, 0.1
                orientation: 'horizontal'
                spacing: root.width/3.25

                Button:
                    text: "Menu"
                    on_press:
                        root.transition.direction = 'right'
                        root.current = "Menu"

                Button:
                    text: "Add Routine"
                    on_press:
                        root.reset_add_routine()
                        root.transition.direction = 'left'
                        root.current = "AddRoutine"

                Button:
                    text: "Delete Routine"

            Label:
                size_hint: 1, 0.2
                font_size: 30
                text: "Your Routines"

            BoxLayout:
                size_hint: 1, 0.1
                Label:
                    font_size: 15
                    text: "Name"

                Label:
                    font_size: 15
                    text: "Last Used"
            ScrollView:
                GridLayout:
                    cols: 2
                    id: routine_list
                    row_force_default: True
                    row_default_height: 35

    #==================================================================================================================
    # Add Routine Screen
    #==================================================================================================================
    Screen:
        name: "AddRoutine"
        BoxLayout:
            orientation: 'vertical'

            BoxLayout:
                size_hint: 1, .45
                orientation: 'horizontal'
                spacing: root.width/3.25

                Button:
                    text: "Routines"
                    on_press:
                        root.transition.direction = 'right'
                        root.current = "Routines"

                Button:
                    text: "Clear All"
                    on_press:
                        root.clear_all()

                Button:
                    id: save
                    text: "Save"
                    on_press:
                        root.save_and_create()
                        if root.is_entries(): root.transition.direction = 'right'
                        if root.is_entries(): root.current = "Routines"

            Label:
                text: "New Routine"
                font_size: 30

            BoxLayout:
                orientation: 'horizontal'

                Label:
                    text: "Enter Routine Name:"
                    font_size: 20

                TextInput:
                    id: routine_name
            GridLayout:
                id: workout_grid
                cols: 4
                rows: 0
            BoxLayout:
                orientation: "horizontal"
                Label:
                    text: "Name"
                Label:
                    text: "Sets"
                Label:
                    text: "Reps"
                Label:
                    text: "Weight"

            BoxLayout:
                orientation: "horizontal"
                TextInput:
                    id: name
                TextInput:
                    id: sets
                    input_filter: 'int'
                TextInput:
                    id: reps
                    input_filter: 'int'
                TextInput:
                    id: weight
                    input_filter: 'int'

            Button:
                text: "Next"
                on_press:
                    root.add_to_grid()

    #==================================================================================================================
    # Display Routine Screen
    #==================================================================================================================
    Screen:
        name: "DisplayRoutine"

        BoxLayout:
            orientation: 'vertical'

            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text: "Routines"
                    on_press:
                        root.transition.direction = 'right'
                        root.current = "Routines"
                Label:
                    id: display_workout_name
                    text: ""
                Button:
                    text: "Edit"
                    on_press:
                        print('editing')

            GridLayout:
                cols: 4
                rows: 0


    #==================================================================================================================
    # Settings Screen
    #==================================================================================================================
    Screen:
        name: "Setting"

        BoxLayout:
            orientation: 'vertical'

            Button:
                size_hint: 1, 0.3
                text: "Menu"
                on_press:
                    root.transition.direction = 'right'
                    root.current = "Menu"

            Label:
                font_size: 30
                text: "Settings"

            BoxLayout:
                orientation: 'horizontal'
                Label:
                    font_size: 15
                    text: "Notifications"
                Switch:

            BoxLayout:
                orientation: 'horizontal'
                Label:
                    font_size: 15
                    text: "Auto-Increase Wight"
                Switch:

            BoxLayout:
                orientation: 'horizontal'
                Label:
                    font_size: 15
                    text: "Motivation Quotes"
                Switch:


            BoxLayout:
                orientation: 'horizontal'
                Label:
                    font_size: 15
                    text: "Color Scheme"
                BoxLayout:
                    orientation: 'horizontal'
                    Button:
                        id: button
                        text: "Light"
                        on_press:
                            color: (222,222,222,222)
                            background_color: (1.0, 0.0, 0.0, 1.0)
                    Button:
                        id: button
                        text: "Dark"
                        on_press:
                            self.background_color:(222,222,222,222)

