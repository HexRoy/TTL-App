#:kivy 1.10.1

# TODO: core data for storing data
# TODO: MAYBE - menu: Add routine; Open Routine; Settings. Open routine would be able to look though the /routines/ file


# TODO: Routines
#----------------
# TODO: add scroll view to grid layout
# TODO: implement delete routine, and possibly swipe to delete     https://github.com/kivy-garden/garden.swipetodelete
# TODO: Have existing routines in folder appear


# TODO: AddRoutine
#------------------
# TODO: add timer option
# TODO: add scroll view to grid layout
# TODO: Create database instead of CSV files
# TODO: all buttons are same size


# TODO: Settings
#----------------
# TODO: All functionality for buttons and switches


# TODO: DisplayRoutine
#----------------------
# TODO: opens the text file and displays all the data
# TODO: implement a way to use the routine and add data.
# TODO: Add the quotes if you fail
# TODO: once clicked on routine change the last used to the current date
# TODO: Figure out a way to get the variables once the file button is clicked

<ScreenManager>:

    # IDs for various buttons/grids
    workout_name: routine_name          # The name of the routine (Add Routine)
    exercise_name: name                 # The name of the exercise (Add Routine)
    num_sets: sets                      # The number of sets (Add Routine)
    num_reps: reps                      # The number of reps (Add Routine)
    amt_weight: weight                  # The amount of weight (Add Routine)
    add_routine_grid: workout_grid      # Grid layout to hold workout information (Add Routine)
    save_button: save                   # Button to save the data entered in add_routine_grid (Add Routine)
    routine_grid: routine_list          # Grid layout to hold all of the routines (Routines)
    display_name: display_workout_name  # The title for the workout (Display Routine)

    dark_light: button
    #==================================================================================================================
    # Menu Screen
    #==================================================================================================================
    #==================================================================================================================
    # Menu Screen
    #==================================================================================================================
    Screen:
        name: "Menu"                                            # The name of the screen
        GridLayout:                                             # Main grid layout (contains: logo, and buttons)
            rows: 1                                                 # Number of rows for main grid layout

            Label:                                              # Label for logo
                font_size: 150                                      # Font size for logo
                center_x: root.width / 4                            # X position for logo (to center it in its column)
                top: root.top/2                                     # Centers logo in Y-height/2
                text: "T\nT\nL"                                     # The logos text

            BoxLayout:                                          # Box layout containing the buttons
                orientation: "vertical"                             # Vertical layout (Buttons stacked on each other)

                Button:                                         # Routines button
                    text: "Routines"                                # Buttons text
                    on_press:
                        root.transition.direction = 'left'          # The direction of the transition
                        root.current = "Routines"                   # Which screen you are brought too

                Button:                                         # Settings button
                    text: "Settings"                                # Buttons text
                    on_press:
                        root.transition.direction = 'left'          # The direction of the transition
                        root.current = "Setting"                    # Which screen you are brought to

    #==================================================================================================================
    # Routines Screen
    #==================================================================================================================
    Screen:
        name: "Routines"                                        # Name of the screen
        BoxLayout:                                              # Box layout containing everything on the screen
            orientation: 'vertical'                                 # Vertical layout

            BoxLayout:                                          # Box layout containing the buttons at the top
                size_hint: 1, 0.1                                   # Size constraints for the buttons
                orientation: 'horizontal'                           # Horizontal layout for the buttons to be side by side
                spacing: root.width/3.25                            # Spacing between each button

                Button:                                         # Menu button
                    text: "Menu"                                    # Text for the button
                    on_press:
                        root.transition.direction = 'right'         # The direction of the transition
                        root.current = "Menu"                       # Which screen you are brought to

                Button:                                         # Add Routine button
                    text: "Add Routine"                             # Text for the button
                    on_press:
                        root.reset_add_routine()                    # Calls the reset_add_routine function
                        root.transition.direction = 'left'          # The direction of the transition
                        root.current = "AddRoutine"                 # Which screen you are brought to

                Button:                                         # Delete Routine button
                    text: "Delete Routine"                          # Text for the button

            Label:                                              # Your Routines label
                size_hint: 1, 0.2                                   # The size constraints
                font_size: 30                                       # Font size
                text: "Your Routines"                               # Labels text

            BoxLayout:                                          # Box layout containing the titles 'Name' & 'Last Used'
                size_hint: 1, 0.1                                   # Size constraints

                Label:                                          # Name label
                    font_size: 15                                   # Font size of label
                    text: "Name"                                    # Labels text

                Label:                                          # Last Used label
                    font_size: 15                                   # Font size of label
                    text: "Last Used"                               # Labels text

            ScrollView:                                         # Scroll view
                                                                    # TODO

                GridLayout:                                     # Grid layout containing the list of routines
                    cols: 2                                         # Number of columns in the layout
                    id: routine_list                                # The ID of the grid layout
                    row_force_default: True                         # When true, input the size manually
                    row_default_height: 35                          # The height of the button and text

    #==================================================================================================================
    # Add Routine Screen
    #==================================================================================================================
    Screen:
        name: "AddRoutine"
        BoxLayout:
            orientation: 'vertical'

            BoxLayout:
                size_hint: 1, .45
                orientation: 'horizontal'
                spacing: root.width/3.25

                Button:
                    text: "Routines"
                    on_press:
                        root.transition.direction = 'right'
                        root.current = "Routines"

                Button:
                    text: "Clear All"
                    on_press:
                        root.clear_all()

                Button:
                    id: save
                    text: "Save"
                    on_press:
                        root.save_and_create()
                        if root.is_entries(): root.transition.direction = 'right'
                        if root.is_entries(): root.current = "Routines"

            Label:
                text: "New Routine"
                font_size: 30

            BoxLayout:
                orientation: 'horizontal'

                Label:
                    text: "Enter Routine Name:"
                    font_size: 20

                TextInput:
                    id: routine_name
            GridLayout:
                id: workout_grid
                cols: 4
                rows: 0
            BoxLayout:
                orientation: "horizontal"
                Label:
                    text: "Name"
                Label:
                    text: "Sets"
                Label:
                    text: "Reps"
                Label:
                    text: "Weight"

            BoxLayout:
                orientation: "horizontal"
                TextInput:
                    id: name
                TextInput:
                    id: sets
                    input_filter: 'int'
                TextInput:
                    id: reps
                    input_filter: 'int'
                TextInput:
                    id: weight
                    input_filter: 'int'

            Button:
                text: "Next"
                on_press:
                    root.add_to_grid()

    #==================================================================================================================
    # Display Routine Screen
    #==================================================================================================================
    Screen:
        name: "DisplayRoutine"

        BoxLayout:
            orientation: 'vertical'

            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text: "Routines"
                    on_press:
                        root.transition.direction = 'right'
                        root.current = "Routines"
                Label:
                    id: display_workout_name
                    text: ""
                Button:
                    text: "Edit"
                    on_press:
                        print('editing')

            GridLayout:
                cols: 4
                rows: 0


    #==================================================================================================================
    # Settings Screen
    #==================================================================================================================
    Screen:
        name: "Setting"

        BoxLayout:
            orientation: 'vertical'

            Button:
                size_hint: 1, 0.3
                text: "Menu"
                on_press:
                    root.transition.direction = 'right'
                    root.current = "Menu"

            Label:
                font_size: 30
                text: "Settings"

            BoxLayout:
                orientation: 'horizontal'
                Label:
                    font_size: 15
                    text: "Notifications"
                Switch:

            BoxLayout:
                orientation: 'horizontal'
                Label:
                    font_size: 15
                    text: "Auto-Increase Wight"
                Switch:

            BoxLayout:
                orientation: 'horizontal'
                Label:
                    font_size: 15
                    text: "Motivation Quotes"
                Switch:


            BoxLayout:
                orientation: 'horizontal'
                Label:
                    font_size: 15
                    text: "Color Scheme"
                BoxLayout:
                    orientation: 'horizontal'
                    Button:
                        id: button
                        text: "Light"
                        on_press:
                            color: (222,222,222,222)
                            background_color: (1.0, 0.0, 0.0, 1.0)
                    Button:
                        id: button
                        text: "Dark"
                        on_press:
                            self.background_color:(222,222,222,222)

